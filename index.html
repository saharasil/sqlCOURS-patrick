<!doctype html>
<html lang="fr">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

     <!-- le css de jquery ui  -->
   <link rel="stylesheet" href="sources-jquery-ui/jquery-ui.css">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <!-- script vers le site fontawesome.com -->
    <script src="https://kit.fontawesome.com/94a46f98c4.js" crossorigin="anonymous"></script>
    <!-- style "perso" est chargé en second pour venir modifier le style de bootstrap.css après le chargement de clui ci  -->
    <link rel="stylesheet" href="css/style.css">

    <title>SQL cours - Accueil</title>
  </head>
  <body>
    <nav class="navbar navbar-dark bg-dark">
        <a class="navbar-brand" href="#">SQL cours</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample01" aria-controls="navbarsExample01" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      
        <div class="collapse navbar-collapse" id="navbarsExample01">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="index.html">Accueil<span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Liens</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Menu déroulant</a>
              <div class="dropdown-menu" aria-labelledby="dropdown01">
                <a class="dropdown-item" href="#">Page 1</a>
                <a class="dropdown-item" href="#">Page 2</a>
                <a class="dropdown-item" href="#">Page 3</a>
              </div>
            </li>
          </ul>
          <form class="form-inline my-2 my-md-0">
            <input class="form-control" type="text" placeholder="cherchez" aria-label="Search">
          </form>
        </div>
      </nav>
      <main role="main" class="container">
        <div class="jumbotron">
          <h1>SQL cours</h1>
          <p class="lead">Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum suscipit, debitis sed libero quae accusantium tempore mollitia perferendis possimus earum dignissimos sint sequi ipsam ratione nulla non, harum vero facilis.</p>
          <a class="btn btn-lg btn-primary" href="/docs/4.4/components/navbar/" role="button">VOIR &raquo;</a>
        </div>
        <div class="container">
            <!-- Example row of columns -->
            <div class="row text-justify ">
              <div class="col-md-4">
                <h2>MySQL</h2>
               <ul>
                   <li>MySQL peut s'utiliser en ligne de commande (Bash ou CMDR) ou avec une interface graphique (php MyAdmin) </li>
                   <li>Pour se connecter à MySQL en ligne de commande on utilise <code>mysql -u utilisateur -p</code></li>
                   
               </ul>
                <p><a class="btn btn-secondary " href="https://openclassrooms.com/fr/courses/1959476-administrez-vos-bases-de-donnees-avec-mysql/1959969-installez-mysql" role="button" target="_blank">+ sur la ligne de commande &raquo;</a></p>
              </div>
              <div class="col-md-4">
                <h2>En résumé</h2>
                <ul>
                    <li>MySQL est un <abbr> SGBDR </abbr> <strong>Système de Gestion de Base de Données Relationnelles </strong></li>
                    <li>Le langauge SQL est utilisé pour la communication entre le client et le serveur</li>
                    <li> Dans une Base de Données ( BDD )sont représentées sous forme de tables</li>
                    <li>Dans une table  nous avons des colonnes , chaque donnée sera introduite sous forme d'une ligne dans la table</li>
                </ul>
                <p><a class="btn btn-secondary" href="#" role="button">VOIR &raquo;</a></p>
              </div>
              <div class="col-md-4">
                <h2>SGBDR / SGBD</h2>
                <ul>
                    <li>Unsystème qui permet de gérer une BDD /// CRUD : Create, Read, Update, Delete</li>
                    <li> Le logicile client permet de dialoguer avec le serveur avec le language SQL</li>
                    <li> <abbr>MySQL</abbr> : Structured Query Language</li>
                    <li>Date de naissance 1994</li>
                    <li>Open Source</li>
                    <li>Concurents : Oracle, MS Access SQLite PostgreSQL</li>
                    <li></li>
                </ul>
                <p><a class="btn btn-secondary" href="#" role="button">VOIR &raquo;</a></p>
              </div>
            </div>
            <hr>
            <div class="row">
                <div class="col-md-12 bg-light">
                    <h2>Requêtes de base</h2>
                    <ul>
                        <li>Créer une BDD <code>CREATE DATABASE basetest CHARACTER SET 'utf8'</code></li> <!--basetest c'est le nom de ma base de donnée-->
                        <li>Supprimer une BDD <code>DELATE DATABASE IF EXISTs basetest</code></li>
                        <li>Créer une table : <code>CREATE TABLE t_utilisateurs
                            (
                                id INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
                                nom VARCHAR(100),
                                prenom VARCHAR(100),
                                email VARCHAR(255),
                                date_naissance DATE,
                                pays VARCHAR(255),
                                ville VARCHAR(255),
                                code_postal VARCHAR(5),
                                nombre_achat INT
                            )</code></li> <!--TOUTE LES BASES DE DONNEES ONT BESOIN D'UNE TABLE ici notre table s'appelle t_utilisateurs-->
                        <li>Insérer dans une table : <code> : INSERT INTO t_utilisateurs () VALUES () : INSERT INTO t_utilisateurs (id, nom, prenom, email, date_naissance, pays, ville, code_postal, nombre_achat) VALUES (NULL, 'Ferchichi', 'Sahar', 'sahar.ferchichi@lepoles.com', '1989-05-16', 'France', 'Paris', '93140', NULL);</code> </li>
                        <li>Afficher le contenu d'une table <code>SELECT * FROM t_utilisateurs</code> </li>
                        <li>Effacer un enregistrement : <code>DELETE FROM t_utulisateurs WHERE nom=''</code></li>
                        <li>Observer la structure d'une table : la description de la table <code>DESC t_utilisateurs</code> </li>
                        <li>Renomer la BDD > à faire dans PHP MyAdmin > ONglet opération ; la requête efface et crere une nouvelle avec le nouveau nom</li>
                    </ul>
                    <p><a class="btn btn-secondary " href="#suite" role="button" target="_blank">Autres requêtes &raquo;</a></p>
                    <hr>
                </div>
                
                <div class="col-md-12 ">
                    <h2>Types de données</h2>
                    <table class="table table-striped table-hover">
                      <thead>
                        <tr>
                          <th scope="col">Titre de champ</th>
                          <th scope="col">Description</th>
                          <th scope="col">Contexte</th>
                          
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <th scope="row">VARCHAR</th>
                          <td>Chaine (jusqu'à 256 caractères)</td>
                          <td>Pour enregistrer un pseudo, un mail, le titre d'un produit ou d'un article de blog</td>
                          
                        </tr>
                        <tr>
                          <th scope="row">TEXT</th>
                          <td>Caine de caractère (illimité)</td>
                          <td>Pour un contenu textuel long, un article de blog</td>
                         
                        </tr>
                        <tr>
                          <th scope="row">INT</th>
                          <td>Numèrique</td>
                          <td>Pour un identifiant, un prix, un code, un code postal, le nombre d'un produit en stock etc.</td>
                         
                        </tr>
                        <tr>
                          <th scope="row">DATE</th>
                          <td>Date</td>
                          <td>Pour la date d'un enregistrement ( une inscription), la date d'une commande etc.</td>
                        </tr>
                        <tr>
                          <th scope="row">ENUM</th>
                          <td>Une liste</td>
                          <td>Pour proposer une liste de termes ex : "Madame" "Monsieur" </td>
                         
                        </tr>
                      </tbody>
                    </table>

                </div>
            </div> <!--/row-->
            <hr>
            <div class="row">
              <div class="col-md-6 text-justify border-right bg-light ">
                <h2>Les identifiants (clé primaire - PK primary Key )</h2>
                <p>
                  Les identifiants sont des champs (colonnes) un peu particuliers car ils ne décrivent pas le sujet (ce n'est pas une des caractéristiques du sujet) mais ce
                  sont des colonnes (champs) systématiquement présent dans chaque table et ce en première position.
                </p>
                <p>
                  Chaque table possède une colonne (champ) identifiant. Nous appellerons cela une clé primaire (PK).
                  Par exemple, nous pourrons l'appeler "id" (ou encore "idProduit" ou "id_produit") pour la table produit, et "idMembre" pour la table membre.
                </p>
                <p>
                  Il s'agit d'une liste numérotée permettant de différencier chaque enregistrement de manière unique.
                  Le produit "tshirt rouge" deviendra (par exemple) le produit n°396 "tshirt rouge".
                  Pour éviter de choisir le numéro et faire des erreurs nous demanderons à le générer automatiquement avec l'Auto_Increment.
                </p>


              </div>
              <div class="col-md-6 text-justify ">
                <h2>Auto_Increment</h2>
                <p>Auto_Increment est une option permettant de générer un numéro unique dans une colonne (champ) de type clé primaire (identifiant).</p>
                <p>Par conséquent, retenez bien que le 1er champ de chaque table sera systématiquement un "id" qui sera PK (Primary Key) et AI (Auto_Increment).</p>

              </div>
            </div><!--/row-->
            <hr>
            <div class="row">
              <div class="col-md-6 text-justify border-right">
                <h2>NULL / NOT NULL</h2>
                <p>Dans chaque champ, nous pourrons indiquer si nous ecceptons les valeurs NULL ou non (NOT NULL)</p>
                <p>NULL est un type de valeur en informatique évitant de laisser un champ vide si nous n'avons pas d'information à y déposer</p>

              </div>
              <div class="col-md-6 bg-light">
                <h2>Les relations </h2>
                <p>Il arrive parfois que les sujets interagissent entre eux</p>
                <p>Exemple : 1 membre commande 1 produit (ou 1 produit est commandé par 1 membre), nous devrons enregistrer l'information dans 1 table commande.</p>
                <p>Autre exemple : 1 conducteur conduit 1 véhicule (ou 1 véhicule est conduit par 1 conducteur). il nous faudra une table permettant de préciser quel	conducteur va avec quel véhicule.</p>

              </div>
            </div><!--row-->
            <hr>
            <div class="row">
              <div class="col-md-6 bg-light border-right">
                <h2>Les cardinalités</h2>
                <p>Exemple : 1 livre possède forcément 1 auteur et qu'1 seul. Relation (1,1). Minimum 1 auteur, Maximum 1 auteur.</p>
			          <p>1 auteur peut avoir écrit plusieurs livre (ou aucun). Relation (0,n). Minimum 0 livre, Maximum N livres</p>
                <p>Dans cet exemple une table auteur et une tables livres suffisent : nous n'avons pas besoin de table de jointure</p>
              </div>
              <div class="col-md-6"></div>
            </div>
            <hr>
            <div class="row">
              <div class="col-md-12 bg-light text-justify" id="suite">
                <h2>Les requêtes (suite)</h2>
                <ul>
                  <li>Afficher et trier le contenu de la table <code>SELECT * FROM employes ORDER BY nom ASC </code> </li>

                  <li>Tri multiple : <code>SELECT service, nom, prenom FROM employes ORDER BY service ASC, nom ASC</code></li>

                  <li>Une condition :  WHERE (à condition que) <code>SELECT nom, prenom FROM employes WHERE service="informaique"</code> </li>

                  <li>Le mot clef : BETWEEN (entre) <code>SELECT nom, prenom, date_embauche FROM employes WHERE date_embauche BETWEEN '2006-01-01' AND '2010-12-31'</code> </li>

                  <li>Une fonction prédéfinies avec ses  parenthèses : CURDATE() (date courante) <code>SELECT nom, prenom, date_embauche FROM employes WHERE date_embauche BETWEEN '2006-01-01' AND CURDATE()</code></li>

                  <li>Le mot clef : LIKE <code>SELECT prenom FROM employes WHERE prenom LIKE 's%' : affiche tout les prenoms qui commencent par un s</code> ou <code>SELECT prenom FROM employes WHERE prenom LIKE '%-%' : affiche out les prenoms qui contiennent une " - "</code> </li>

                  <li><code>=</code> "est égal"</li>

                  <li><code>></code>"strictement supérieur, <code>>=</code> "supèrieur ou égal"</li>

                  <li><code>&lt;</code>"strictement inférieur" <code>&lt;=</code>"inférieur ou égal"</li>

                  <li><code>&lt;></code>ou <code>!=</code>"est différent" <code>SELECT nom, prenom, service FROM employes WHERE service !='infotmatique'</code></li>

                  <li>Limiter les résultats : LIMIT <code>SELECT nom, prenom, service, salaire FROM employes ORDER BY salaire DESC LIMIT 0,3</code><span class="small font-italic">( le 1er chiffre précise l'enregistrement de départ, le 2nd chiffre indique le nombre de résultats)</span></li>

                  <li>Faire des calcules <code>SELECT nom, prenom, salaire*12 FROM employes</code></li>

                  <li>Le mot clef AS permet de définir un ALIAS : <code> SELECT nom, prenom, salaire*12 AS salaire-annuel FROM employes </code></li>

                  <li>Somme d'une colonne avec SUM() : <code>SELECT SUM(salaire*12) FROM employes</code></li>

                  <li>Calculer une moyenne avec AVG() : <code>SELECT AVG(salaire) FROM employes</code></li>

                  <li>Arrondir un résultat avec ROUND(): <code>SELECT ROUND(AVG(salaire)) FROM employes</code></li>

                  <li>Compter avec COUNT(*):  <code>SELECT COUNT(*) FROM employes WHERE sexe='f'; </code> (nombre de femme)</li>
                </ul>
                <hr>
                <h5>Requête imbriquées</h5>
                <ul>
                  <li>Isoler une valeur minimum/maximum avec MIN() ou  MAX() : <code>SELECT MIN(salaire) FROM employes</code></li>

                  <li><code>SELECT  prenom, salaire FROM employes WHERE salaire = (SELECT MIN(salaire) FROM employes)</code></li>
                </ul>
                <h5>Conditions miltiples</h5>
                <ul>
                  <li>Avec plusieurs valeurs avec le mot clef IN : <code>SELECT nom, prenom, service FROM employes WHERE service IN('comptabilité', 'informatique')</code></li>

                  <li>Avec le mot clef NOT IN : <code>SELECT nom, prenom, service FROM employes WHERE service NOT IN('comptabilité', 'informatique')</code> <span class="small font-italic">!= permet d'exclure une seule valeur // NOT IN() permet d'exclure plusieurs valeurs </span> </li>

                  <li>Plusieurs conditions avec différents champs et différentes valeurs : <code>SELECT nom, prenom, service, salaire FROM employes WHERE service='commercial' AND salire &lt;= 2000 </code></li>

                  <li>Ordre de priorité sur les conditions AND et OR : <code>SELECT nom, prenom, service, salaire FROM employes WHERE service='production' AND (salaire= 1900 OR salaire = 2300)</code> <span class="small font-italic">Pour garantir l'ordre naturel de lecture (de la gauche vers la droite), nous utiliserons des parenthèses </span></li>

                  <li>Les regroupements avec GROUP BY : <code>SELECT service, COUNT(*) AS nombre FROM employes GROUP BY service;</code></li>
                  
                  <li>Les regroupements avec une condition HAVING COUNT() <code>SELECT service, COUNT(*) AS nombre FROM employes GROUP BY service HAVING COUNT(*) > 2;</code></li>
                </ul>
              </div>
            </div>
            <div class="row mt-4 mb-4">
              <div class="col-md-12">
                <h5>Requêtes d'insertion</h5>
                <ul>
                  <li>INSERT : <code>INSERT INTO employes (prenom, nom, sexe, service, date_embauche, salaire) VALUES ('alexis', 'richy', 'm', 'informatique', '2011-12-28', 1800);</code> </li>
                  <li>INSERT : (autre methode plus courte) : <code>INSERT INTO employes VALUES (NULL, 'samia', 'ouali', 'f', 'informatique', '2020-01-28', 2500 ), </code> </li>
              </div>
            </div>
        </div> <!--/container--> 
      </main>
      <hr>
      <footer class="container bg-secondary text-white">
        <p>&copy; SaharMH</p>
      </footer>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <!-- script jquery  -->
    <script src="sources_jQuery/jquery-3.4.1.js"></script>
     <!-- lien vers le script de jquery-ui -->
     <script src="sources-jquery-ui/jquery-ui.js"></script>
    <!-- lien vers le script "perso" -->
    <script>
      
    </script>
  </body>
</html>